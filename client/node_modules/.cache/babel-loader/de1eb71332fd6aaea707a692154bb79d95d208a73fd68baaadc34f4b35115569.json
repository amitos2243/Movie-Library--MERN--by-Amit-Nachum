{"ast":null,"code":"import axios from \"axios\";\nconst url = \"http://localhost:8000/api/users/\";\nclass AuthService {\n  async login(adminData) {\n    try {\n      const res = await axios.post(url + \"login\", adminData);\n      return res.data;\n    } catch {\n      return {\n        accessToken: '',\n        name: ''\n      };\n    }\n  }\n  logout() {\n    sessionStorage.clear();\n    window.location.replace('/');\n  }\n  async isAuth() {\n    if (sessionStorage.getItem('token')) {\n      try {\n        await axios.post(url + \"auth\", {\n          accessToken: sessionStorage['token']\n        });\n        return true;\n      } catch {\n        return false;\n      }\n    } else {\n      return false;\n    }\n  }\n}\nexport default new AuthService();","map":{"version":3,"names":["axios","url","AuthService","login","adminData","res","post","data","accessToken","name","logout","sessionStorage","clear","window","location","replace","isAuth","getItem"],"sources":["C:/Users/Lenovo/Desktop/Movie Library (MERN) by Matan Nachum/client/src/services/auth.service.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst url = \"http://localhost:8000/api/users/\";\r\n\r\nclass AuthService {\r\n  async login(adminData) {\r\n    try {\r\n      const res = await axios.post(url + \"login\", adminData);\r\n      return res.data;\r\n    } catch {\r\n      return { accessToken: '', name: '' };\r\n    }\r\n  }\r\n\r\n  logout() {\r\n    sessionStorage.clear();\r\n    window.location.replace('/');\r\n  }\r\n\r\n  async isAuth() {\r\n    if (sessionStorage.getItem('token')) {\r\n      try {\r\n        await axios.post(url + \"auth\", { accessToken: sessionStorage['token'] })\r\n        return true;\r\n      } catch {\r\n        return false;\r\n      }\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n}\r\n\r\nexport default new AuthService();"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,GAAG,GAAG,kCAAkC;AAE9C,MAAMC,WAAW,CAAC;EAChB,MAAMC,KAAKA,CAACC,SAAS,EAAE;IACrB,IAAI;MACF,MAAMC,GAAG,GAAG,MAAML,KAAK,CAACM,IAAI,CAACL,GAAG,GAAG,OAAO,EAAEG,SAAS,CAAC;MACtD,OAAOC,GAAG,CAACE,IAAI;IACjB,CAAC,CAAC,MAAM;MACN,OAAO;QAAEC,WAAW,EAAE,EAAE;QAAEC,IAAI,EAAE;MAAG,CAAC;IACtC;EACF;EAEAC,MAAMA,CAAA,EAAG;IACPC,cAAc,CAACC,KAAK,EAAE;IACtBC,MAAM,CAACC,QAAQ,CAACC,OAAO,CAAC,GAAG,CAAC;EAC9B;EAEA,MAAMC,MAAMA,CAAA,EAAG;IACb,IAAIL,cAAc,CAACM,OAAO,CAAC,OAAO,CAAC,EAAE;MACnC,IAAI;QACF,MAAMjB,KAAK,CAACM,IAAI,CAACL,GAAG,GAAG,MAAM,EAAE;UAAEO,WAAW,EAAEG,cAAc,CAAC,OAAO;QAAE,CAAC,CAAC;QACxE,OAAO,IAAI;MACb,CAAC,CAAC,MAAM;QACN,OAAO,KAAK;MACd;IACF,CAAC,MAAM;MACL,OAAO,KAAK;IACd;EACF;AACF;AAEA,eAAe,IAAIT,WAAW,EAAE"},"metadata":{},"sourceType":"module","externalDependencies":[]}